(this["webpackJsonpuser-assignment"]=this["webpackJsonpuser-assignment"]||[]).push([[0],{98:function(e,n,a){},99:function(e,n,a){"use strict";a.r(n);var r=a(0),t=a(11),s=a.n(t),i=a(12),c=a(10),u=a.n(c),l=a(14),d=function(e,n){return localStorage.setItem(e,JSON.stringify(n))},o=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){return null}},A=a(31),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.floor(Math.random()*(n-e)+e)},p=function(e,n,a){var r=Object(A.a)(e),t=r.splice(n,1);return r.splice(a,0,t[0]),r},b=function(){var e=g();return{_id:e,startUp:!1,machineSignature:f(e),guid:null,recLength:1,recDuration:"00:00:00",state:"WaitingForLicense",assemblyVersion:"21.3.0.9",tenant:"unassigned",lastReport:(new Date).getTime(),lastReportMS:4136047,recorderStatus:"WaitingForLicense",reporting:!1,disabled:!0,removed:!1,agentDataFlow:"Regular"}},f=function(e){var n=h(),a=h(),r=v(n,a);return{machineSignatureKey:e,machineName:n.toLowerCase()[0]+a.toLowerCase(),macAddress:g(10),ip:j(),os:{name:"Microsoft Windows 10 Pro",version:"10.0.19042"},userDomainName:"google.com",userName:r,displayUserName:r}},g=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,n="",a=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],r=0;r<e;r++){var t=m(0,a.length-1);n+=a[t]}return n},j=function(){for(var e=[],n=0;n<4;n++)e.push(m(60,255));return e.join(".")},v=function(e,n){return"".concat(e.toLowerCase()).concat(n.toLowerCase()).concat(m(1200,9900),"@google.com")},h=function(){var e=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-Marie","Anna","Anna-Diana","Anna-Diane","Anna-Maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-Corinne","Anne-Marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn"];return e[m(0,e.length-1)]},x={generateMockUsers:function(e){for(var n=[],a=0;a<e;a++)n.push(b());return n},getMockUserId:g},O=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=T(n)).tenant=n.toLowerCase(),(r=o("mockTeams")).push(a),d("mockTeams",r),e.abrupt("return",S(a));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,t,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.skip,a=n.textFilter,r=void 0===a?"":a,n.filterParam,n.team,n.sortBy,t=o("mockUsers"),s=N(),t&&t.length===s||(t=x.generateMockUsers(s),d("mockUsers",t)),i=t.filter((function(e){return"unassigned"===e.tenant})),c=i.filter((function(e){return e.machineSignature.displayUserName.includes(r)})),e.abrupt("return",S(c));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o("mockTeams")){e.next=6;break}return e.next=4,w();case 4:n=e.sent,d("mockTeams",n);case 6:return e.abrupt("return",S(n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,t,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.teamId,r=n.userId,t=o("mockUsers"),s=o("mockTeams"),i=t.findIndex((function(e){return e._id===r})),c=s.findIndex((function(e){return e.tenantId===a})),-1!==i&&-1!==c){e.next=7;break}return e.abrupt("return",console.error("Cannot find user or team","userId: ".concat(r," teamId: ").concat(a)));case 7:return s[c].users.push(t[i]),t[i].tenant=s[c].tenant,d("mockUsers",t),d("mockTeams",s),e.abrupt("return",S(!0));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({});case 2:return n=e.sent,a={default:T()},n.forEach((function(e){var n=e.tenant;n&&"unassigned"!==n&&(a[n]||(a[n]=T()),a[n].users.push(e))})),e.abrupt("return",Object.keys(a).map((function(e){return{tenant:e,tenantId:a[e].tenantId,displayName:a[e].displayName,users:a[e].users}})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default";return{tenantId:x.getMockUserId(),displayName:e,users:[]}},N=function(){var e=o("mockUsersAmount");return e||d("mockUsersAmount",e="10"),+e},S=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){console.log("got res"),e(n)}),200)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D={getMockUsers:y,getMockTeams:I,assignUserToTeam:U,unAssignUser:function(e){var n=o("mockUsers"),a=o("mockTeams"),r=n.findIndex((function(n){return n._id===e})),t=a.findIndex((function(e){return e.tenant===n[r].tenant}));return-1===r||-1===t?console.error("Cannot find user","userId: ".concat(e)):(a[t].users=a[t].users.filter((function(n){return n._id!==e})),n[r].tenant="unassigned",d("mockUsers",n),d("mockTeams",a),S(!0))},createNewTeam:O},E={getUnassignedUsers:function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,t,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.skip,r=n.textFilter,t=n.filterParam,s=n.team,i=n.sortBy,e.next=3,D.getMockUsers({skip:a,textFilter:r,filterParam:t,team:s,sortBy:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getTeams:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getMockTeams();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),assignUserToNewTeam:function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.teamId,r=n.userId,e.next=3,D.assignUserToTeam({teamId:a,userId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),unAssignUser:function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.unAssignUser(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),createNewTeam:function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.createNewTeam(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},k=a(8),_={teams:[]},P="MOVE_ASSIGNED_USER_IN_TEAM",R="ADD_NEW_USER_TO_TEAM",M="SET_TEAMS",F="UNASSIGN_USER_FROM_TEAM",C="ADD_NEW_TEAM",L={unassignedUsers:[],textFilter:""},W="SET_UNASSIGNED_USERS",B="MOVE_UNASSIGNED_USER_IN_TEAM",G="UNASSIGN_USER",V="ASSIGN_USER",H="SET_TEXT_FILTER";function J(e){var n=e.skip,a=e.limit,r=e.textFilter,t=e.filterParam,s=e.team,i=e.sortBy;return function(){var e=Object(l.a)(u.a.mark((function e(c){var l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getUnassignedUsers({skip:n,limit:a,textFilter:r,filterParam:t,team:s,sortBy:i});case 3:l=e.sent,c({type:H,payload:{textFilter:r}}),c({type:W,payload:{unassignedUsers:l}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}function X(e){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(u.a.mark((function e(n){var a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:function(e){return console.error(e)},e.prev=1,e.next=4,n();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var K=a(25),z=a(28),Y=a(133),Q=a(137),Z=a(3),$={createNewTeam:function(e){return function(){var n=Object(l.a)(u.a.mark((function n(a){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.createNewTeam(e);case 3:r=n.sent,a({type:C,payload:{newTeam:r}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}},ee=Object(i.b)((function(e){return{}}),$)((function(e){var n=e.createNewTeam,a=Object(r.useState)(""),t=Object(K.a)(a,2),s=t[0],i=t[1],c=function(){var e=Object(l.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n(s),i("");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Y.a,{className:"create-team-container",children:[Object(Z.jsx)("h3",{children:"Create new team"}),Object(Z.jsx)("form",{onSubmit:c,children:Object(Z.jsx)(Q.a,{fullWidth:!0,onChange:function(e){return i(e.target.value)},value:s})})]})})),ne=a(152),ae=a(145),re=a(101),te=a(147),se=a(146);function ie(e){var n=e.user;return Object(Z.jsxs)("div",{className:"expanded-user-preview-container",children:[Object(Z.jsxs)("div",{className:"user-display-row",children:[Object(Z.jsx)("div",{className:"user-att",children:n.machineSignature.displayUserName}),Object(Z.jsx)("div",{className:"user-att",children:function(){try{return new Date(n.lastReport).toLocaleString()}catch(e){return""}}()})]}),Object(Z.jsxs)("div",{className:"user-display-row",children:[Object(Z.jsx)("div",{className:"user-att",children:{WaitingForLicense:"Waiting for license"}[n.recorderStatus]}),Object(Z.jsxs)("div",{className:"user-att",children:[n.recLength," actions"]})]}),Object(Z.jsx)("div",{className:"user-display-row",children:Object(Z.jsx)("div",{className:"user-att",children:n.machineSignature.machineSignatureKey})})]})}var ce=Object(i.b)((function(e){return{minifiedUserPreviewSelectedDisplayParam:e.viewElementsReducer.minifiedUserPreviewSelectedDisplayParam}}))((function(e){var n=e.minifiedUserPreviewSelectedDisplayParam,a=e.user;return Object(Z.jsx)("div",{className:"user-att",children:function(){var e=n.split("."),r=function n(r,t){try{var s=e[t];return t===e.length-1?r[s]:n(r[s],t+1)}catch(i){return a.machineSignature.displayUserName}}(a,0);return"lastReport"===n&&(r=new Date(r).toLocaleString()),r}()})}));a(153);var ue=Object(i.b)((function(e){return{draggedElement:e.viewElementsReducer.draggedElement}}))((function(e){var n=e.user,a=e.idx,t=e.draggedElement,s=e.isTeamMember,i=e.isTeamHidden,c=Object(r.useMemo)((function(){return t&&t.draggableId===n._id}),[t,n._id]),u=Object(r.useMemo)((function(){return!(!s&&!c)}),[s,c]),l=function(){var e=["user-preview-container"];return e.push(u?"user-preview-expanded":"user-preview-not-expanded"),e.push(c?"user-preview-dragged":"user-preview-not-dragged"),e.push(!c&&i?"user-preview-hidden":""),e.join(" ")};return Object(Z.jsx)(z.b,{draggableId:n._id,index:a,children:function(e){return Object(Z.jsx)("div",Object(k.a)(Object(k.a)(Object(k.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:Object(Z.jsx)(Y.a,{className:l(),elevation:c?2:0,square:!0,children:u?Object(Z.jsx)(ie,{user:n}):Object(Z.jsx)(ce,{user:n})})}))}})})),le=Object(i.b)((function(e){return{draggedElement:e.viewElementsReducer.draggedElement,unassignedUsers:e.unassignedUsersReducer.unassignedUsers,teams:e.assignedTeamsReducer.teams}}))((function(e){var n=e.teamDisplayName,a=e.draggedElement,t=e.unassignedUsers,s=e.teams,i=Object(r.useMemo)((function(){try{return function(){console.log(a);var e,n="unassigned"===a.source.droppableId?t:s.find((function(e){return e.tenantId===a.source.droppableId}));return e=a.draggableId,n.find((function(n){return n._id===e})).machineSignature.displayUserName}()}catch(e){return""}}),[a,t,s]),c=Object(r.useMemo)((function(){return"unassigned"!==n}),[n]);return Object(Z.jsx)("div",{className:"assign-silhouette-container",children:"".concat(c?"Assign":"Unassign"," ").concat(i," ").concat(c?"to ".concat(n):"")})})),de=a(139),oe=a(142),Ae=a(143),me=a(144),pe=a(155),be=a(151),fe=Object(i.b)((function(e){return{}}),{})((function(e){e.team;var n=Object(r.useState)(!1),a=Object(K.a)(n,2),t=a[0],s=a[1];return Object(Z.jsxs)(pe.a,{open:t,direction:"left",onClick:function(){return s(!t)},ariaLabel:"SpeedDial example",icon:Object(Z.jsx)(de.a,{}),children:[Object(Z.jsx)(be.a,{icon:Object(Z.jsx)(oe.a,{}),tooltipTitle:"wlbl"}),Object(Z.jsx)(be.a,{icon:Object(Z.jsx)(Ae.a,{}),tooltipTitle:"Rename"}),Object(Z.jsx)(be.a,{icon:Object(Z.jsx)(me.a,{}),tooltipTitle:"Delete",onClick:function(){console.log("Delete added soon")}})]})}));function ge(e){var n=e.team,a=Object(r.useState)(!0),t=Object(K.a)(a,2),s=t[0],i=t[1];return Object(Z.jsxs)(ne.a,{expanded:s,children:[Object(Z.jsx)(ae.a,{children:Object(Z.jsxs)("div",{className:"accordion-header-container",children:[Object(Z.jsx)("div",{className:"header",children:n.displayName}),Object(Z.jsxs)("div",{className:"icon-container",children:[Object(Z.jsx)(fe,{team:n}),Object(Z.jsx)("div",{className:"chevron-container",children:Object(Z.jsx)("div",{className:"chevron-point-".concat(s?"up":"down"),children:Object(Z.jsx)(re.a,{onClick:function(){return i(!s)},children:Object(Z.jsx)(se.a,{})})})})]})]})}),Object(Z.jsx)(te.a,{children:Object(Z.jsx)(z.c,{droppableId:n.tenantId,isDropDisabled:!s,children:function(e,a){return Object(Z.jsxs)("div",Object(k.a)(Object(k.a)({ref:e.innerRef},e.droppableProps),{},{className:"droppable-team-container ".concat(a.isDraggingOver?"droppable-team-container-dragged-over":""),children:[a.isDraggingOver&&Object(Z.jsx)(le,{teamDisplayName:n.displayName}),n.users.map((function(e,n){return Object(Z.jsx)(ue,{user:e,idx:n,isTeamMember:!0,isTeamHidden:a.isDraggingOver},e._id)})),e.placeholder]}))}})})]})}var je=Object(i.b)((function(e){return{teams:e.assignedTeamsReducer.teams}}),{})((function(e){var n=e.teams;return Object(Z.jsxs)("div",{className:"teams-container",children:[n.map((function(e){return Object(Z.jsx)(ge,{team:e},e.tenantId)})),Object(Z.jsx)(ee,{})]})})),ve=a(148),he=a(154),xe={draggedElement:null,minifiedUserPreviewSelectedDisplayParam:"machineSignature.displayUserName"},Oe="SET_DRAGGED_ELEMENT",ye="SET_MINIFIED_PREVIEW_SELECTED_DISPLAY_PARAM";var Ie={setMinifiedPreviewSelectedDisplayParam:function(e){return function(n){console.log("value",e),n({type:ye,payload:{minifiedUserPreviewSelectedDisplayParam:e}})}},setUsers:J},Ue=Object(i.b)((function(e){var n=e.unassignedUsersReducer,a=n.textFilter,r=n.unassignedUsers;return{minifiedUserPreviewSelectedDisplayParam:e.viewElementsReducer.minifiedUserPreviewSelectedDisplayParam,textFilter:a,unassignedUsers:r}}),Ie)((function(e){e.onToggleDrawer;var n=e.minifiedUserPreviewSelectedDisplayParam,a=(e.textFilter,e.unassignedUsers,e.setMinifiedPreviewSelectedDisplayParam),t=e.setUsers,s=Object(r.useRef)(0),i=Object(r.useState)(""),c=Object(K.a)(i,2),u=c[0],l=c[1];return Object(Z.jsxs)("div",{className:"unassigned-list-header-container",children:[Object(Z.jsx)("h2",{children:"Unassigned users"}),Object(Z.jsx)(Q.a,{placeholder:"Search users",fullWidth:!0,value:u,onChange:function(e){clearTimeout(s.current);var n=e.target.value;l(n),s.current=setTimeout((function(){t({textFilter:n})}),500)}}),Object(Z.jsxs)("div",{className:"display-by-container",children:[Object(Z.jsx)("span",{children:"Display user by"}),Object(Z.jsx)(ve.a,{value:n,onChange:function(e){a(e.target.value)},children:[{value:"machineSignature.displayUserName",label:"Username"},{value:"machineSignature.ip",label:"IP"},{value:"lastReport",label:"Last seen"}].map((function(e){return Object(Z.jsx)(he.a,{value:e.value,children:e.label},e.value)}))})]})]})}));var we=Object(i.b)((function(e){return{unassignedUsers:e.unassignedUsersReducer.unassignedUsers}}),{})((function(e){var n=e.onToggleDrawer,a=e.unassignedUsers,r=void 0===a?[]:a;return Object(Z.jsxs)("div",{className:"unassigned-user-container",children:[Object(Z.jsx)(Ue,{onToggleDrawer:n}),Object(Z.jsx)(z.c,{droppableId:"unassigned",children:function(e,n){return Object(Z.jsxs)("div",Object(k.a)(Object(k.a)({ref:e.innerRef},e.droppableProps),{},{children:[(n.isDraggingOver||!r.length)&&Object(Z.jsx)(le,{teamDisplayName:"unassigned"}),Object(Z.jsx)("div",{className:"unassigned-user-list",children:r.map((function(e,a){return Object(Z.jsx)(ue,{user:e,idx:a,isTeamHidden:n.isDraggingOver},e._id)}))}),e.placeholder]}))}})]})})),Te=a(150);var Ne={moveUserInTeam:function(e){var n=e.teamId,a=e.sourceIdx,r=e.destinationIdx;return function(e){try{e({type:"unassigned"===n?B:P,payload:{teamId:n,sourceIdx:a,destinationIdx:r}})}catch(t){console.error(t)}}},moveUserToDifferentTeam:function(e){e.srcTeamId,e.targetTeamId,e.sourceIdx,e.destinationIdx,e.userId},assignUser:function(e){var n=e.targetTeamId,a=e.destinationIdx,r=e.user;return function(e){try{X((function(){return E.assignUserToNewTeam({teamId:n,userId:r._id})})),e({type:R,payload:{destinationIdx:a,user:r,teamId:n}}),e({type:V,payload:{userId:r._id}})}catch(t){console.error(t)}}},unAssignUser:function(e){var n=e.user,a=e.destinationIdx,r=e.sourceTeamId;return function(e){try{X((function(){return E.unAssignUser(n._id)})),e({type:F,payload:{userId:n._id,sourceTeamId:r}}),e({type:G,payload:{user:n,destinationIdx:a}})}catch(t){console.error(t)}}},setDraggedElement:function(e){return function(n){n({type:Oe,payload:{element:e}})}}},Se=Object(i.b)((function(e){return{unassignedUsers:e.unassignedUsersReducer.unassignedUsers,teams:e.assignedTeamsReducer.teams}}),Ne)((function(e){var n=e.unassignedUsers,a=e.moveUserInTeam,t=(e.moveUserToDifferentTeam,e.assignUser),s=e.unAssignUser,i=e.setDraggedElement,c=e.teams,u=Object(r.useState)(!0),l=Object(K.a)(u,2),d=l[0],o=l[1],A=function(e,a,r){var s=n.find((function(e){return e._id===r}));t({targetTeamId:e,destinationIdx:a,user:s})},m=function(e,n,a){var r=b(e,a);s({user:r,destinationIdx:n,sourceTeamId:a})},p=function(e,n,r){a({teamId:e,sourceIdx:n,destinationIdx:r})},b=function(e,n){var a=c.find((function(e){return e.tenantId===n}));return a&&a.users?a.users.find((function(n){return n._id===e})):null};return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{className:"top"}),Object(Z.jsx)("div",{className:"main",children:Object(Z.jsxs)(z.a,{onDragEnd:function(e){i(null),console.log(e);var n=e.source,a=e.destination,r=e.draggableId;!a||n.droppableId===a.droppableId&&n.index===a.index||(n.droppableId!==a.droppableId?"unassigned"!==n.droppableId?"unassigned"===a.droppableId&&m(r,a.index,n.droppableId):A(a.droppableId,a.index,r):p(n.droppableId,n.index,a.index))},onDragStart:function(e){console.log("drag start",e),i(e)},children:[Object(Z.jsx)("div",{className:"assigned-teams-container",style:{marginRight:"22rem"},children:Object(Z.jsx)(je,{})}),Object(Z.jsx)("div",{className:"unassigned-teams-container",children:Object(Z.jsx)(Te.a,{anchor:"right",open:d,variant:"persistent",children:Object(Z.jsx)(we,{onToggleDrawer:function(){o(!d)}})})})]})})]})}));a(98);var De={setTeams:function(){return function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getTeams();case 3:a=e.sent,n({type:M,payload:{teams:a}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},setUsers:J},Ee=Object(i.b)((function(e){return e}),De)((function(e){Object(r.useEffect)((function(){n()}),[]);var n=function(){e.setTeams(),e.setUsers({})};return Object(Z.jsx)("div",{className:"App",children:Object(Z.jsx)(Se,{})})})),ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(n){var a=n.getCLS,r=n.getFID,t=n.getFCP,s=n.getLCP,i=n.getTTFB;a(e),r(e),t(e),s(e),i(e)}))},_e=a(22),Pe=a(75),Re=Object(_e.c)({assignedTeamsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=M,r=P,t=C,s=F,i=R;switch(n.type){case a:var c=n.payload.teams;return Object(k.a)(Object(k.a)({},e),{},{teams:c});case r:var u=n.payload,l=u.teamId,d=u.sourceIdx,o=u.destinationIdx,m=Object(A.a)(e.teams),b=m.findIndex((function(e){return e.tenantId===l}));return-1===b?e:(m[b].users=p(m[b].users,d,o),Object(k.a)(Object(k.a)({},e),{},{teams:m}));case i:var f=n.payload,g=f.teamId,j=f.destinationIdx,v=f.user,h=Object(A.a)(e.teams),x=h.findIndex((function(e){return e.tenantId===g}));return-1===x?e:(h[x].users.splice(j,0,v),Object(k.a)(Object(k.a)({},e),{},{teams:h}));case s:var O=n.payload,y=O.userId,I=O.sourceTeamId,U=e.teams.map((function(e){return e.tenantId!==I||(e.users=e.users.filter((function(e){return e._id!==y}))),e}));return Object(k.a)(Object(k.a)({},e),{},{teams:U});case t:var w=n.payload.newTeam,T=[].concat(Object(A.a)(e.teams),[w]);return Object(k.a)(Object(k.a)({},e),{},{teams:T});default:return e}},unassignedUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=W,r=B,t=G,s=V,i=H;switch(n.type){case a:var c=n.payload.unassignedUsers;return Object(k.a)(Object(k.a)({},e),{},{unassignedUsers:c});case r:var u=n.payload,l=u.sourceIdx,d=u.destinationIdx,o=p(e.unassignedUsers,l,d);return Object(k.a)(Object(k.a)({},e),{},{unassignedUsers:o});case s:var m=n.payload.userId,b=e.unassignedUsers.filter((function(e){return e._id!==m}));return Object(k.a)(Object(k.a)({},e),{},{unassignedUsers:b});case t:var f=n.payload,g=f.user,j=f.destinationIdx;g.tenant="unassigned";var v=Object(A.a)(e.unassignedUsers);return v.splice(j,0,g),Object(k.a)(Object(k.a)({},e),{},{unassignedUsers:v});case i:var h=n.payload.textFilter;return Object(k.a)(Object(k.a)({},e),{},{textFilter:h});default:return e}},viewElementsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Oe,r=ye;switch(n.type){case a:var t=n.payload.element;return Object(k.a)(Object(k.a)({},e),{},{draggedElement:t});case r:var s=n.payload.minifiedUserPreviewSelectedDisplayParam;return Object(k.a)(Object(k.a)({},e),{},{minifiedUserPreviewSelectedDisplayParam:s});default:return e}}}),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,Fe=Object(_e.e)(Re,Me(Object(_e.a)(Pe.a)));s.a.render(Object(Z.jsx)(i.a,{store:Fe,children:Object(Z.jsx)(Ee,{})}),document.getElementById("root")),ke()}},[[99,1,2]]]);
//# sourceMappingURL=main.473afdf2.chunk.js.map